{"version":3,"file":"ng2-rike.umd.js","sources":["../ng2-rike/protocol.js","../ng2-rike/event.js","../ng2-rike/status-collector.js","../ng2-rike/options.js","../ng2-rike/rike.js","../ng2-rike/status.component.js","../ng2-rike/field-error.js","../ng2-rike/error-collector.js","../ng2-rike/errors.component.js","../ng2-rike/event-source-provider.js","../ng2-rike/disabled.directive.js","../ng2-rike/readonly.directive.js","../ng2-rike/resource.js","../ng2-rike/resource-provider.js","../ng2-rike.js"],"sourcesContent":["var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nimport { RequestOptions, Headers } from \"@angular/http\";\n/**\n * REST-like operations protocol.\n *\n * It is used by REST-like operations to encode operation requests to HTTP, decode operation responses from HTTP,\n * and handle errors.\n *\n * `IN` is operation request type.\n * `OUT` is operation response type.\n */\nexport var Protocol = (function () {\n    function Protocol() {\n    }\n    //noinspection JSMethodCanBeStatic\n    /**\n     * Prepares HTTP request.\n     *\n     * The `options` passed have at least `url` and `method` fields set.\n     *\n     * This method is called for each HTTP request before _writeRequest_ method. When default protocol is set for\n     * operation target, this method is called first on the default protocol, and then - on the operation protocol.\n     *\n     * @param options original HTTP request options.\n     *\n     * @returns modified HTTP request options to use further instead of original ones. Returns unmodified request\n     * `options` by default.\n     */\n    Protocol.prototype.prepareRequest = function (options) {\n        return options;\n    };\n    //noinspection JSMethodCanBeStatic\n    /**\n     * Handles HTTP error.\n     *\n     * Does not modify error response by default.\n     *\n     * @param error error response to handle.\n     *\n     * @returns error processing result.\n     */\n    Protocol.prototype.handleError = function (error) {\n        return error;\n    };\n    /**\n     * Creates protocol addon able to prepend protocol actions with specified functions.\n     *\n     * @return {ProtocolPre<IN, OUT>} protocol addon.\n     */\n    Protocol.prototype.prior = function () {\n        return new CustomProtocolPre(this);\n    };\n    /**\n     * Creates protocol addon able to append specified functions to protocol actions.\n     *\n     * @return {ProtocolPost<IN, OUT>} protocol addon.\n     */\n    Protocol.prototype.then = function () {\n        return new CustomProtocolPost(this);\n    };\n    /**\n     * Creates protocol modifier able to replace protocol actions with specified functions.\n     *\n     * @return {ProtocolMod<IN, OUT>} protocol modifier.\n     */\n    Protocol.prototype.instead = function () {\n        return new CustomProtocolMod(this);\n    };\n    return Protocol;\n}());\nvar CustomProtocolAddon = (function () {\n    function CustomProtocolAddon(_protocol, _prior) {\n        this._protocol = _protocol;\n        this._prior = _prior;\n    }\n    CustomProtocolAddon.prototype.prepareRequest = function (prepare) {\n        var _this = this;\n        return new CustomProtocol(this._prior\n            ? function (options) { return _this._protocol.prepareRequest(prepare(options)); }\n            : function (options) { return prepare(_this._protocol.prepareRequest(options)); }, function (request, options) { return _this._protocol.writeRequest(request, options); }, function (response) { return _this._protocol.readResponse(response); }, function (error) { return _this._protocol.handleError(error); });\n    };\n    CustomProtocolAddon.prototype.updateRequest = function (update) {\n        var _this = this;\n        return new CustomProtocol(function (options) { return _this._protocol.prepareRequest(options); }, this._prior\n            ? function (request, options) { return _this._protocol.writeRequest(request, update(request, options)); }\n            : function (request, options) { return update(request, _this._protocol.writeRequest(request, options)); }, function (response) { return _this._protocol.readResponse(response); }, function (error) { return _this._protocol.handleError(error); });\n    };\n    CustomProtocolAddon.prototype.handleError = function (handle) {\n        var _this = this;\n        return new CustomProtocol(function (options) { return _this._protocol.prepareRequest(options); }, function (request, options) { return _this._protocol.writeRequest(request, options); }, function (response) { return _this._protocol.readResponse(response); }, this._prior\n            ? function (error) { return _this._protocol.handleError(handle(error)); }\n            : function (error) { return handle(_this._protocol.handleError(error)); });\n    };\n    CustomProtocolAddon.prototype.apply = function (protocol) {\n        var _this = this;\n        if (this._prior) {\n            return new CustomProtocol(function (options) { return _this._protocol.prepareRequest(protocol.prepareRequest(options)); }, function (request, options) { return _this._protocol.writeRequest(request, options); }, function (response) { return _this._protocol.readResponse(response); }, function (error) { return _this._protocol.handleError(protocol.handleError(error)); });\n        }\n        return new CustomProtocol(function (options) { return protocol.prepareRequest(_this._protocol.prepareRequest(options)); }, function (request, options) { return _this._protocol.writeRequest(request, options); }, function (response) { return _this._protocol.readResponse(response); }, function (error) { return protocol.handleError(_this._protocol.handleError(error)); });\n    };\n    return CustomProtocolAddon;\n}());\nvar CustomProtocolPre = (function (_super) {\n    __extends(CustomProtocolPre, _super);\n    function CustomProtocolPre(protocol) {\n        _super.call(this, protocol, true);\n    }\n    CustomProtocolPre.prototype.input = function (convert) {\n        var _this = this;\n        return new CustomProtocol(function (options) { return _this._protocol.prepareRequest(options); }, function (request, options) { return _this._protocol.writeRequest(convert(request), options); }, function (response) { return _this._protocol.readResponse(response); }, function (error) { return _this._protocol.handleError(error); });\n    };\n    return CustomProtocolPre;\n}(CustomProtocolAddon));\nvar CustomProtocolPost = (function (_super) {\n    __extends(CustomProtocolPost, _super);\n    function CustomProtocolPost(protocol) {\n        _super.call(this, protocol, false);\n    }\n    CustomProtocolPost.prototype.output = function (convert) {\n        var _this = this;\n        return new CustomProtocol(function (options) { return _this._protocol.prepareRequest(options); }, function (request, options) { return _this._protocol.writeRequest(request, options); }, function (httpResponse) { return convert(_this._protocol.readResponse(httpResponse), httpResponse); }, function (error) { return _this._protocol.handleError(_this._protocol.handleError(error)); });\n    };\n    return CustomProtocolPost;\n}(CustomProtocolAddon));\nvar CustomProtocolMod = (function () {\n    function CustomProtocolMod(_protocol) {\n        this._protocol = _protocol;\n    }\n    CustomProtocolMod.prototype.prepareRequest = function (prepare) {\n        var _this = this;\n        return new CustomProtocol(prepare, function (request, options) { return _this._protocol.writeRequest(request, options); }, function (response) { return _this._protocol.readResponse(response); }, function (error) { return _this._protocol.handleError(error); });\n    };\n    CustomProtocolMod.prototype.writeRequest = function (write) {\n        var _this = this;\n        return new CustomProtocol(function (options) { return _this._protocol.prepareRequest(options); }, write, function (response) { return _this._protocol.readResponse(response); }, function (error) { return _this._protocol.handleError(error); });\n    };\n    CustomProtocolMod.prototype.readResponse = function (read) {\n        var _this = this;\n        return new CustomProtocol(function (options) { return _this._protocol.prepareRequest(options); }, function (request, options) { return _this._protocol.writeRequest(request, options); }, read, function (error) { return _this._protocol.handleError(error); });\n    };\n    CustomProtocolMod.prototype.handleError = function (handle) {\n        var _this = this;\n        return new CustomProtocol(function (options) { return _this._protocol.prepareRequest(options); }, function (request, options) { return _this._protocol.writeRequest(request, options); }, function (response) { return _this._protocol.readResponse(response); }, handle);\n    };\n    return CustomProtocolMod;\n}());\nvar CustomProtocol = (function (_super) {\n    __extends(CustomProtocol, _super);\n    function CustomProtocol(_prepareRequest, _writeRequest, _readResponse, _handleError) {\n        _super.call(this);\n        this._prepareRequest = _prepareRequest;\n        this._writeRequest = _writeRequest;\n        this._readResponse = _readResponse;\n        this._handleError = _handleError;\n    }\n    CustomProtocol.prototype.prepareRequest = function (options) {\n        return this._prepareRequest(options);\n    };\n    CustomProtocol.prototype.writeRequest = function (request, options) {\n        return this._writeRequest(request, options);\n    };\n    CustomProtocol.prototype.readResponse = function (response) {\n        return this._readResponse(response);\n    };\n    CustomProtocol.prototype.handleError = function (error) {\n        return this._handleError(error);\n    };\n    return CustomProtocol;\n}(Protocol));\nvar JsonProtocol = (function (_super) {\n    __extends(JsonProtocol, _super);\n    function JsonProtocol() {\n        _super.apply(this, arguments);\n    }\n    JsonProtocol.prototype.writeRequest = function (request, options) {\n        var opts = new RequestOptions(options).merge({ body: JSON.stringify(request) });\n        var headers;\n        if (opts.headers) {\n            headers = opts.headers;\n        }\n        else {\n            opts.headers = headers = new Headers();\n        }\n        headers.set(\"Content-Type\", \"application/json\");\n        return opts;\n    };\n    JsonProtocol.prototype.readResponse = function (response) {\n        return response.json();\n    };\n    return JsonProtocol;\n}(Protocol));\n/**\n * JSON protocol.\n *\n * Sends and receives arbitrary data as JSON over HTTP.\n *\n * @type {Protocol<any>}\n */\nexport var JSON_PROTOCOL = new JsonProtocol();\n/**\n * Returns JSON protocol.\n *\n * Sends and receives the data of the given type as JSON over HTTP.\n */\nexport var jsonProtocol = function () { return JSON_PROTOCOL; };\nvar HttpProtocol = (function (_super) {\n    __extends(HttpProtocol, _super);\n    function HttpProtocol() {\n        _super.apply(this, arguments);\n    }\n    HttpProtocol.prototype.writeRequest = function (request, options) {\n        return new RequestOptions(options).merge({ body: request });\n    };\n    HttpProtocol.prototype.readResponse = function (response) {\n        return response;\n    };\n    return HttpProtocol;\n}(Protocol));\n/**\n * HTTP protocol.\n *\n * The request type is any. It is used as request body.\n *\n * @type {Protocol<any, Response>}\n */\nexport var HTTP_PROTOCOL = new HttpProtocol();\n//# sourceMappingURL=protocol.js.map","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * REST-like resource access event emitter.\n *\n * Multiple instances of this class could be injected into controller or service to listen for Rike events.\n *\n * Use [provideEventSource] function to register event sources.\n */\nexport var RikeEventSource = (function () {\n    function RikeEventSource() {\n    }\n    return RikeEventSource;\n}());\n/**\n * Basic REST-like resource access event.\n *\n * Such events are emitted by [Rike event sources][RikeEventsSource].\n */\nexport var RikeEvent = (function () {\n    function RikeEvent() {\n    }\n    Object.defineProperty(RikeEvent.prototype, \"target\", {\n        /**\n         * Operation target.\n         */\n        get: function () {\n            return this.operation.target;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeEvent.prototype, \"cancel\", {\n        /**\n         * Whether this is an operation cancel.\n         *\n         * @return {boolean} `true` if operation cancelled, or `false` otherwise.\n         */\n        get: function () {\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RikeEvent;\n}());\n/**\n * An event emitted when operation on a REST-like resource is started.\n */\nexport var RikeOperationEvent = (function (_super) {\n    __extends(RikeOperationEvent, _super);\n    function RikeOperationEvent(_operation) {\n        _super.call(this);\n        this._operation = _operation;\n    }\n    Object.defineProperty(RikeOperationEvent.prototype, \"operation\", {\n        get: function () {\n            return this._operation;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeOperationEvent.prototype, \"complete\", {\n        get: function () {\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeOperationEvent.prototype, \"error\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeOperationEvent.prototype, \"errorResponse\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeOperationEvent.prototype, \"cancelledBy\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeOperationEvent.prototype, \"result\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RikeOperationEvent;\n}(RikeEvent));\n/**\n * An event emitted when operation on a REST-like resource is successfully completed.\n */\nexport var RikeSuccessEvent = (function (_super) {\n    __extends(RikeSuccessEvent, _super);\n    function RikeSuccessEvent(_operation, _result) {\n        _super.call(this);\n        this._operation = _operation;\n        this._result = _result;\n    }\n    Object.defineProperty(RikeSuccessEvent.prototype, \"operation\", {\n        get: function () {\n            return this._operation;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeSuccessEvent.prototype, \"complete\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeSuccessEvent.prototype, \"error\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeSuccessEvent.prototype, \"errorResponse\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeSuccessEvent.prototype, \"cancelledBy\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeSuccessEvent.prototype, \"result\", {\n        get: function () {\n            return this._result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RikeSuccessEvent;\n}(RikeEvent));\n/**\n * An event emitted when operation on a REST-like resource is failed.\n *\n * An object of this type is also reported as an error when some internal exception occurs.\n */\nexport var RikeErrorEvent = (function (_super) {\n    __extends(RikeErrorEvent, _super);\n    function RikeErrorEvent(_operation, _error) {\n        _super.call(this);\n        this._operation = _operation;\n        this._error = _error;\n    }\n    Object.defineProperty(RikeErrorEvent.prototype, \"operation\", {\n        get: function () {\n            return this._operation;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeErrorEvent.prototype, \"complete\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeErrorEvent.prototype, \"error\", {\n        get: function () {\n            return this._error;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeErrorEvent.prototype, \"errorResponse\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeErrorEvent.prototype, \"cancelledBy\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeErrorEvent.prototype, \"result\", {\n        get: function () {\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RikeErrorEvent;\n}(RikeEvent));\n/**\n * An event emitted when operation on a REST-like resource caused an exception.\n *\n * An object of this type is reported as an error.\n */\nexport var RikeExceptionEvent = (function (_super) {\n    __extends(RikeExceptionEvent, _super);\n    function RikeExceptionEvent(operation, error, _errorResponse) {\n        _super.call(this, operation, error);\n        this._errorResponse = _errorResponse;\n    }\n    Object.defineProperty(RikeExceptionEvent.prototype, \"errorResponse\", {\n        get: function () {\n            return this._errorResponse;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RikeExceptionEvent;\n}(RikeErrorEvent));\n/**\n * An event emitted when operation on a REST-like resource returned error.\n */\nexport var RikeErrorResponseEvent = (function (_super) {\n    __extends(RikeErrorResponseEvent, _super);\n    function RikeErrorResponseEvent(operation, _errorResponse) {\n        _super.call(this, operation, _errorResponse.error || _errorResponse);\n        this._errorResponse = _errorResponse;\n    }\n    Object.defineProperty(RikeErrorResponseEvent.prototype, \"errorResponse\", {\n        get: function () {\n            return this._errorResponse;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RikeErrorResponseEvent;\n}(RikeErrorEvent));\n/**\n * An event emitted when operation on a REST-like resource is cancelled.\n */\nexport var RikeCancelEvent = (function (_super) {\n    __extends(RikeCancelEvent, _super);\n    function RikeCancelEvent(operation, _cancelledBy) {\n        _super.call(this, operation, _cancelledBy || \"cancel\");\n        this._cancelledBy = _cancelledBy;\n    }\n    Object.defineProperty(RikeCancelEvent.prototype, \"error\", {\n        get: function () {\n            return this.cancelledBy;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeCancelEvent.prototype, \"cancel\", {\n        get: function () {\n            return true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeCancelEvent.prototype, \"cancelledBy\", {\n        get: function () {\n            return this._cancelledBy;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RikeCancelEvent;\n}(RikeErrorEvent));\n//# sourceMappingURL=event.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Injectable, Optional, Inject } from \"@angular/core\";\nimport { isArray } from \"rxjs/util/isArray\";\nimport { RikeEventSource } from \"./event\";\n/**\n * Default map of Rike operations status labels.\n *\n * Default status labels are strings.\n */\nexport var DEFAULT_STATUS_LABELS = {\n    \"*\": {\n        processing: {\n            id: \"processing\",\n            message: \"Processing\"\n        },\n        failed: {\n            id: \"failed\",\n            message: \"Error\"\n        },\n        cancelled: {\n            id: \"cancelled\",\n            message: \"Cancelled\"\n        }\n    },\n    \"load\": {\n        processing: {\n            id: \"loading\",\n            message: \"Loading\",\n        },\n    },\n    \"send\": {\n        processing: {\n            id: \"sending\",\n            message: \"Sending\"\n        },\n        succeed: {\n            id: \"sent\",\n            message: \"Sent\"\n        },\n    },\n    \"read\": {\n        processing: {\n            id: \"loading\",\n            message: \"Loading\"\n        },\n    },\n    \"create\": {\n        processing: {\n            id: \"creating\",\n            message: \"Creating\"\n        },\n        succeed: {\n            id: \"created\",\n            message: \"Created\"\n        },\n    },\n    \"update\": {\n        processing: {\n            id: \"updating\",\n            message: \"Updating\"\n        },\n        succeed: {\n            id: \"updated\",\n            message: \"Updated\"\n        }\n    },\n    \"delete\": {\n        processing: {\n            id: \"deleting\",\n            message: \"Deleting\"\n        },\n        succeed: {\n            id: \"deleted\",\n            message: \"Deleted\"\n        },\n    },\n};\n/**\n * Rike operations status collecting service.\n *\n * It collects statuses of all available [Rike event sources][RikeEventSource].\n *\n * This service is registered automatically along with every event source by `provideEventSource()` method.\n * But unlike event sources it is not a multi-provider.\n *\n * An instance of this class could be created on its own. Then it is necessary to subscribe it on Rike events with\n * `subscribeOn` method.\n *\n * It is possible to read statuses and string labels from the service itself. Alternatively a view can be created\n * to read labels of arbitrary type.\n */\nexport var StatusCollector = (function () {\n    function StatusCollector(eventSources) {\n        this._views = {};\n        this._targetStatuses = {};\n        this._viewIdSeq = 0;\n        if (eventSources) {\n            for (var _i = 0, eventSources_1 = eventSources; _i < eventSources_1.length; _i++) {\n                var esrc = eventSources_1[_i];\n                this.subscribeOn(esrc.rikeEvents);\n            }\n        }\n    }\n    Object.defineProperty(StatusCollector.prototype, \"labels\", {\n        /**\n         * Current status labels.\n         *\n         * @return {DefaultStatusLabel[]} array of default labels.\n         */\n        get: function () {\n            return this._defaultView ? this._defaultView.labels : [];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatusCollector.prototype, \"processing\", {\n        /**\n         * Whether some operation is in process.\n         */\n        get: function () {\n            return this._defaultView && this._defaultView.processing || false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatusCollector.prototype, \"failed\", {\n        /**\n         * Whether some operation failed.\n         */\n        get: function () {\n            return this._defaultView && this._defaultView.failed || false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatusCollector.prototype, \"cancelled\", {\n        /**\n         * Whether some operation cancelled.\n         */\n        get: function () {\n            return this._defaultView && this._defaultView.cancelled || false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatusCollector.prototype, \"succeed\", {\n        /**\n         * Whether some operation succeed.\n         */\n        get: function () {\n            return this._defaultView && this._defaultView.succeed || false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Subscribes this collector on the given Rike events emitter.\n     *\n     * @param events Rike events emitter to subscribe on.\n     */\n    StatusCollector.prototype.subscribeOn = function (events) {\n        var _this = this;\n        events.subscribe(function (event) { return _this.applyEvent(event); });\n    };\n    /**\n     * Constructs a Rike operations status view.\n     *\n     * When the view is no longer needed a {{StatusView.close}} method should be called to release resources\n     * associated with it.\n     *\n     * @param <L> a type of status labels.\n     * @param labels a map(s) of Rike operations status labels to use by this view.\n     *\n     * @return {StatusView<L>} new status view.\n     */\n    StatusCollector.prototype.view = function () {\n        var labels = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            labels[_i - 0] = arguments[_i];\n        }\n        return this.addView.apply(this, [\"\" + ++this._viewIdSeq].concat(labels));\n    };\n    StatusCollector.prototype.addView = function (id) {\n        var labels = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            labels[_i - 1] = arguments[_i];\n        }\n        var view = (_a = new StatusViewImpl(this._views, this._targetStatuses, id)).withLabels.apply(_a, labels);\n        this._views[id] = view;\n        return view;\n        var _a;\n    };\n    StatusCollector.prototype.applyEvent = function (event) {\n        this.initDefaultView(event);\n        this.updateTargetStatuses(event);\n        this.resetViews();\n    };\n    StatusCollector.prototype.initDefaultView = function (event) {\n        if (!this._defaultView) {\n            var defaultStatusLabels = event.target.rike.options.defaultStatusLabels;\n            if (isArray(defaultStatusLabels)) {\n                this._defaultView = this.addView.apply(this, [\"default\"].concat(defaultStatusLabels));\n            }\n            else {\n                this._defaultView = this.addView(\"default\", defaultStatusLabels);\n            }\n        }\n    };\n    StatusCollector.prototype.updateTargetStatuses = function (event) {\n        var uniqueId = event.target.uniqueId;\n        if (!event.complete) {\n            this._targetStatuses[uniqueId] = {\n                start: event,\n            };\n        }\n        else {\n            var targetStatus = this._targetStatuses[uniqueId];\n            if (!targetStatus) {\n                this._targetStatuses[uniqueId] = { start: event, end: event };\n            }\n            else {\n                targetStatus.end = event;\n            }\n        }\n    };\n    StatusCollector.prototype.resetViews = function () {\n        for (var id in this._views) {\n            if (this._views.hasOwnProperty(id)) {\n                this._views[id].reset();\n            }\n        }\n    };\n    StatusCollector = __decorate([\n        Injectable(),\n        __param(0, Inject(RikeEventSource)),\n        __param(0, Optional()), \n        __metadata('design:paramtypes', [Array])\n    ], StatusCollector);\n    return StatusCollector;\n}());\nvar StatusViewImpl = (function () {\n    function StatusViewImpl(_views, _targetStatuses, _id) {\n        this._views = _views;\n        this._targetStatuses = _targetStatuses;\n        this._id = _id;\n        this._labels = [];\n    }\n    Object.defineProperty(StatusViewImpl.prototype, \"labels\", {\n        get: function () {\n            return this.combined && this.combined.labels || [];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatusViewImpl.prototype, \"processing\", {\n        get: function () {\n            return this.combined && this.combined.processing || false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatusViewImpl.prototype, \"failed\", {\n        get: function () {\n            return this.combined && this.combined.failed || false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatusViewImpl.prototype, \"cancelled\", {\n        get: function () {\n            return this.combined && this.combined.cancelled || false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatusViewImpl.prototype, \"succeed\", {\n        get: function () {\n            return this.combined && this.combined.succeed || false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StatusViewImpl.prototype.withLabels = function () {\n        var labels = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            labels[_i - 0] = arguments[_i];\n        }\n        this._combined = undefined;\n        (_a = this._labels).unshift.apply(_a, labels);\n        return this;\n        var _a;\n    };\n    StatusViewImpl.prototype.withOperationLabels = function (operation) {\n        var labels = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            labels[_i - 1] = arguments[_i];\n        }\n        this._combined = undefined;\n        for (var _a = 0, labels_1 = labels; _a < labels_1.length; _a++) {\n            var l = labels_1[_a];\n            this.withLabels((_b = {},\n                _b[operation] = l,\n                _b\n            ));\n        }\n        return this;\n        var _b;\n    };\n    StatusViewImpl.prototype.reset = function () {\n        this._combined = undefined;\n    };\n    StatusViewImpl.prototype.close = function () {\n        delete this._views[this._id];\n    };\n    Object.defineProperty(StatusViewImpl.prototype, \"combined\", {\n        get: function () {\n            if (this._combined) {\n                return this._combined;\n            }\n            var combined = undefined;\n            for (var targetId in this._targetStatuses) {\n                if (this._targetStatuses.hasOwnProperty(targetId)) {\n                    var targetStatus = this._targetStatuses[targetId];\n                    if (!targetStatus) {\n                        continue;\n                    }\n                    combined = combineLabels(combined, this.labelFor(targetStatus));\n                }\n            }\n            return this._combined = combined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    StatusViewImpl.prototype.labelFor = function (status) {\n        return this.operationLabel(status.start.operation.name, status) || this.operationLabel(\"*\", status);\n    };\n    StatusViewImpl.prototype.operationLabel = function (operation, status) {\n        for (var _i = 0, _a = this._labels; _i < _a.length; _i++) {\n            var l = _a[_i];\n            var label = labelOf(status, l[operation]);\n            if (label) {\n                return label;\n            }\n        }\n        return undefined;\n    };\n    return StatusViewImpl;\n}());\nfunction labelOf(status, labels) {\n    if (!labels) {\n        return undefined;\n    }\n    var end = status.end;\n    if (!end) {\n        var processing = evalLabel(status, labels.processing);\n        return processing && { label: processing, processing: true };\n    }\n    if (end.cancel) {\n        var cancelled = evalLabel(status, labels.cancelled);\n        return cancelled && { label: cancelled, cancelled: true };\n    }\n    if (end.error) {\n        var failed = evalLabel(status, labels.failed);\n        return failed && { label: failed, failed: true };\n    }\n    var succeed = evalLabel(status, labels.succeed);\n    return succeed && { label: succeed, succeed: true };\n}\nfunction evalLabel(status, label) {\n    if (!label) {\n        return undefined;\n    }\n    if (typeof label !== \"function\") {\n        return label;\n    }\n    var labelFn = label;\n    return labelFn(status.start.target);\n}\nfunction combineLabels(combined, label) {\n    if (!label) {\n        return combined;\n    }\n    var lbl = label.label;\n    if (!combined) {\n        return {\n            labels: [lbl],\n            processing: label.processing,\n            failed: label.failed,\n            cancelled: label.cancelled,\n            succeed: label.succeed,\n        };\n    }\n    combined.processing = combined.processing || label.processing;\n    combined.failed = combined.failed || label.failed;\n    combined.cancelled = combined.cancelled || label.cancelled;\n    combined.succeed = combined.succeed || label.succeed;\n    for (var _i = 0, _a = combined.labels; _i < _a.length; _i++) {\n        var l = _a[_i];\n        if (l === lbl) {\n            return combined;\n        }\n    }\n    combined.labels.push(lbl);\n    return combined;\n}\n//# sourceMappingURL=status-collector.js.map","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nimport { isArray } from \"rxjs/util/isArray\";\nimport { HTTP_PROTOCOL } from \"./protocol\";\nimport { DEFAULT_STATUS_LABELS } from \"./status-collector\";\n/**\n * Constructs URL relative to base URL.\n *\n * @param baseUrl base URL.\n * @param url URL.\n *\n * @returns {string} If `baseUrl` is not specified, or empty string, or `url` is absolute, then returns unmodified `url`.\n * Otherwise concatenates `baseUrl` and `url` separating them by `/` sign.\n */\nexport function relativeUrl(baseUrl, url) {\n    if (!baseUrl) {\n        return url;\n    }\n    if (url[0] === \"/\") {\n        return url; // Absolute URL\n    }\n    if (url.match(/^(\\w*:)?\\/\\//)) {\n        return url; // Full URL\n    }\n    return baseUrl + \"/\" + url;\n}\n/**\n * Global Rike options.\n *\n * To overwrite global options add a provider for {{BaseRikeOptions}} instance with {{RikeOptions}} as token:\n * ```ts\n * bootstrap(AppComponent, {provide: RikeOptions, new BaseRikeOptions({baseUrl: \"/rike\"})});\n * ```\n */\nexport var RikeOptions = (function () {\n    function RikeOptions() {\n    }\n    /**\n     * Constructs URL relative to `baseUrl`.\n     *\n     * @param url URL\n     *\n     * @returns {string} resolved URL.\n     */\n    RikeOptions.prototype.relativeUrl = function (url) {\n        return relativeUrl(this.baseUrl, url);\n    };\n    return RikeOptions;\n}());\n/**\n * Basic [global resource options][RikeOptions] implementation.\n *\n * Can be used to override the global resource options.\n */\nexport var BaseRikeOptions = (function (_super) {\n    __extends(BaseRikeOptions, _super);\n    function BaseRikeOptions(opts) {\n        _super.call(this);\n        this._defaultProtocol = HTTP_PROTOCOL;\n        this._defaultStatusLabels = [DEFAULT_STATUS_LABELS];\n        if (opts) {\n            this._baseUrl = opts.baseUrl;\n            if (opts.defaultProtocol) {\n                this._defaultProtocol = opts.defaultProtocol;\n            }\n            var defaultStatusLabels = opts.defaultStatusLabels;\n            if (defaultStatusLabels) {\n                if (!isArray(defaultStatusLabels)) {\n                    this._defaultStatusLabels = [defaultStatusLabels];\n                }\n                else if (defaultStatusLabels.length) {\n                    this._defaultStatusLabels = defaultStatusLabels;\n                }\n                else {\n                    this._defaultStatusLabels = [DEFAULT_STATUS_LABELS];\n                }\n            }\n        }\n    }\n    Object.defineProperty(BaseRikeOptions.prototype, \"baseUrl\", {\n        get: function () {\n            return this._baseUrl;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BaseRikeOptions.prototype, \"defaultProtocol\", {\n        get: function () {\n            return this._defaultProtocol;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BaseRikeOptions.prototype, \"defaultStatusLabels\", {\n        get: function () {\n            return this._defaultStatusLabels;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return BaseRikeOptions;\n}(RikeOptions));\n/**\n * Default resource options.\n *\n * @type {RikeOptions}\n */\nexport var DEFAULT_RIKE_OPTIONS = new BaseRikeOptions();\n//# sourceMappingURL=options.js.map","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Injectable, Optional, EventEmitter } from \"@angular/core\";\nimport { Response, Http, RequestMethod, RequestOptions, ResponseOptions, ResponseType } from \"@angular/http\";\nimport { Observable } from \"rxjs/Rx\";\nimport { RikeSuccessEvent, RikeOperationEvent, RikeCancelEvent, RikeErrorResponseEvent } from \"./event\";\nimport { RikeOptions, DEFAULT_RIKE_OPTIONS, relativeUrl } from \"./options\";\nimport { HTTP_PROTOCOL, jsonProtocol } from \"./protocol\";\nimport { RikeExceptionEvent } from \"./event\";\nvar REQUEST_METHODS = {\n    \"GET\": RequestMethod.Get,\n    \"POST\": RequestMethod.Post,\n    \"PUT\": RequestMethod.Put,\n    \"DELETE\": RequestMethod.Delete,\n    \"OPTIONS\": RequestMethod.Options,\n    \"HEAD\": RequestMethod.Head,\n    \"PATCH\": RequestMethod.Patch,\n};\nexport function requestMethod(method) {\n    if (typeof method !== \"string\") {\n        return method;\n    }\n    var result = REQUEST_METHODS[method.toUpperCase()];\n    if (result != null) {\n        return result;\n    }\n    throw new Error(\"Unsupported HTTP request method: \" + method);\n}\n/**\n * REST-like resource operations service.\n *\n * This service can be injected to other services or components.\n *\n * It basically mimics the `Http` interface, but also honors [global Rike options][RikeOptions].\n *\n * It can also be used to perform operations on particular targets.\n */\nexport var Rike = (function () {\n    function Rike(_http, defaultHttpOptions, _options) {\n        var _this = this;\n        this._http = _http;\n        this._rikeEvents = new EventEmitter();\n        this._uniqueIdSeq = 0;\n        this._options = _options || DEFAULT_RIKE_OPTIONS;\n        this._internals = {\n            defaultHttpOptions: defaultHttpOptions,\n            generateUniqueId: function () {\n                return \"\" + ++_this._uniqueIdSeq;\n            },\n            request: function (request, options) {\n                options = _this.updateRequestOptions(options);\n                if (typeof request === \"string\") {\n                    request = _this.options.relativeUrl(request);\n                }\n                return _this._http.request(request, options);\n            },\n            get: function (url, options) {\n                return _this._http.get(_this.options.relativeUrl(url), _this.updateRequestOptions(options));\n            },\n            post: function (url, body, options) {\n                return _this._http.post(_this.options.relativeUrl(url), body, _this.updateRequestOptions(options));\n            },\n            put: function (url, body, options) {\n                return _this._http.put(_this.options.relativeUrl(url), body, _this.updateRequestOptions(options));\n            },\n            \"delete\": function (url, options) {\n                return _this._http.delete(_this.options.relativeUrl(url), _this.updateRequestOptions(options));\n            },\n            patch: function (url, body, options) {\n                return _this._http.patch(_this.options.relativeUrl(url), body, _this.updateRequestOptions(options));\n            },\n            head: function (url, options) {\n                return _this._http.head(_this.options.relativeUrl(url), _this.updateRequestOptions(options));\n            },\n        };\n    }\n    Object.defineProperty(Rike.prototype, \"options\", {\n        /**\n         * Global REST-like resource access options.\n         *\n         * @returns {RikeOptions} either pre-configured, or [default][DEFAULT_RIKE_OPTIONS] options.\n         */\n        get: function () {\n            return this._options;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rike.prototype, \"defaultProtocol\", {\n        /**\n         * Default Rike protocol.\n         *\n         * @return {Protocol<any, any>} either {{RikeOptions.defaultProtocol}}, or `HTTP_PROTOCOL`.\n         */\n        get: function () {\n            return this.options.defaultProtocol || HTTP_PROTOCOL;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rike.prototype, \"rikeEvents\", {\n        /**\n         * All REST-like resource operation events emitter.\n         *\n         * @returns {EventEmitter<RikeEvent>}\n         */\n        get: function () {\n            return this._rikeEvents;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Rike.prototype.request = function (request, options) {\n        return this.handleErrors(this._internals.request(request, this.prepareRequest(options)));\n    };\n    Rike.prototype.get = function (url, options) {\n        return this.handleErrors(this._internals.get(url, this.prepareRequest(options)));\n    };\n    Rike.prototype.post = function (url, body, options) {\n        return this.handleErrors(this._internals.post(url, body, this.prepareRequest(options)));\n    };\n    Rike.prototype.put = function (url, body, options) {\n        return this.handleErrors(this._internals.put(url, body, this.prepareRequest(options)));\n    };\n    //noinspection ReservedWordAsName\n    Rike.prototype.delete = function (url, options) {\n        return this.handleErrors(this._internals.delete(url, this.prepareRequest(options)));\n    };\n    Rike.prototype.patch = function (url, body, options) {\n        return this.handleErrors(this._internals.patch(url, body, this.prepareRequest(options)));\n    };\n    Rike.prototype.head = function (url, options) {\n        return this.handleErrors(this._internals.head(url, this.prepareRequest(options)));\n    };\n    Rike.prototype.target = function (target, protocol) {\n        var _this = this;\n        var rikeTarget = new RikeTargetImpl(this, this._internals, target, protocol ? protocol.prior().apply(this.defaultProtocol) : this.defaultProtocol);\n        rikeTarget.rikeEvents.subscribe(function (event) { return _this._rikeEvents.emit(event); }, function (error) { return _this._rikeEvents.error(error); }, function () { return _this._rikeEvents.complete(); });\n        return rikeTarget;\n    };\n    /**\n     * Constructs operations target which operates over [JSON protocol][jsonProtocol].\n     *\n     * @param target arbitrary target value.\n     *\n     * @return {RikeTarget<I, O>} new operations target.\n     */\n    Rike.prototype.json = function (target) {\n        return this.target(target, jsonProtocol());\n    };\n    /**\n     * Updates HTTP request options accordingly to global _options_.\n     *\n     * @param options HTTP request options to update.\n     *\n     * @returns {RequestOptionsArgs} either new HTTP options instance, or the _options_ argument if no modifications\n     * done.\n     */\n    Rike.prototype.updateRequestOptions = function (options) {\n        if (!options) {\n            return options;\n        }\n        if (options.url != null) {\n            var newUrl = this._options.relativeUrl(options.url);\n            if (newUrl !== options.url) {\n                options = {\n                    url: newUrl,\n                    method: options.method,\n                    search: options.search,\n                    headers: options.headers,\n                    body: options.body,\n                    withCredentials: options.withCredentials,\n                };\n            }\n        }\n        return options;\n    };\n    Rike.prototype.prepareRequest = function (options) {\n        return this.defaultProtocol.prepareRequest(options || {});\n    };\n    /**\n     * Wraps the HTTP response observable for the given operation to make it handle errors.\n     *\n     * @param response response observer to wrap.\n     *\n     * @returns {Observable<Response>} response observer wrapper.\n     */\n    Rike.prototype.handleErrors = function (response) {\n        var _this = this;\n        return new Observable(function (responseObserver) {\n            response.subscribe(function (httpResponse) { return responseObserver.next(httpResponse); }, function (error) { return responseObserver.error(_this.defaultProtocol.handleError(toErrorResponse(error))); }, function () { return responseObserver.complete(); });\n        });\n    };\n    Rike = __decorate([\n        Injectable(),\n        __param(2, Optional()), \n        __metadata('design:paramtypes', [Http, RequestOptions, RikeOptions])\n    ], Rike);\n    return Rike;\n}());\nfunction toErrorResponse(error) {\n    if (error instanceof Response) {\n        return {\n            response: error,\n            error: error.status,\n        };\n    }\n    return syntheticResponse(error);\n}\nfunction syntheticResponse(error) {\n    var statusText = error != null ? error.toString() : null;\n    return {\n        response: new Response(new ResponseOptions({\n            type: ResponseType.Error,\n            status: 500,\n            statusText: statusText || \"Unknown error\"\n        })),\n        error: error,\n    };\n}\n/**\n * REST-like operations target.\n *\n * Operation targets are created using [Rike.target] method. The actual operations should be created first with\n * `operation` method.\n *\n * Only one operation can be performed on a target at a time. Whenever a new operation on the same target is initiated,\n * the previous one is cancelled.\n *\n * `IN` is a request type this target's operations accept by default.\n * `OUT` is a response type this target's operations return by default.\n */\nexport var RikeTarget = (function () {\n    function RikeTarget() {\n    }\n    /**\n     * Constructs JSON operation on this target.\n     *\n     * It operates over [JSON protocol][jsonProtocol].\n     *\n     * @param name operation name.\n     *\n     * @return {RikeOperation<T, T>} new operation.\n     */\n    RikeTarget.prototype.json = function (name) {\n        return this.operation(name, jsonProtocol());\n    };\n    return RikeTarget;\n}());\n//noinspection ReservedWordAsName\n/**\n * REST-like resource operation.\n *\n * It operates over the given protocol and emits events.\n *\n * To initiate operation just call any of the HTTP access methods. Note that operation always belongs to its target\n * and thus two operations could not be initiated simultaneously.\n *\n * `IN` is a type of requests this operation accepts.\n * `OUT` is a type of responses this operation produces.\n */\nexport var RikeOperation = (function () {\n    function RikeOperation() {\n    }\n    Object.defineProperty(RikeOperation.prototype, \"url\", {\n        get: function () {\n            return this.options.url;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RikeOperation.prototype.withUrl = function (url) {\n        return this.withOptions({ url: url });\n    };\n    Object.defineProperty(RikeOperation.prototype, \"method\", {\n        get: function () {\n            var method = this.options.method;\n            return method == null ? undefined : requestMethod(method);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RikeOperation.prototype.withMethod = function (method) {\n        return this.withOptions({ method: method });\n    };\n    return RikeOperation;\n}());\nvar RikeTargetImpl = (function (_super) {\n    __extends(RikeTargetImpl, _super);\n    function RikeTargetImpl(_rike, _internals, _target, _protocol) {\n        _super.call(this);\n        this._rike = _rike;\n        this._internals = _internals;\n        this._target = _target;\n        this._protocol = _protocol;\n        this._rikeEvents = new EventEmitter();\n        this._uniqueId = _internals.generateUniqueId();\n    }\n    Object.defineProperty(RikeTargetImpl.prototype, \"rike\", {\n        get: function () {\n            return this._rike;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeTargetImpl.prototype, \"target\", {\n        get: function () {\n            return this._target;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeTargetImpl.prototype, \"uniqueId\", {\n        get: function () {\n            return this._uniqueId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeTargetImpl.prototype, \"currentOperation\", {\n        get: function () {\n            return this._operation && this._operation.operation;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeTargetImpl.prototype, \"rikeEvents\", {\n        get: function () {\n            return this._rikeEvents;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeTargetImpl.prototype, \"internals\", {\n        get: function () {\n            return this._internals;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeTargetImpl.prototype, \"protocol\", {\n        get: function () {\n            return this._protocol;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeTargetImpl.prototype, \"baseUrl\", {\n        get: function () {\n            return this._baseUrl;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RikeTargetImpl.prototype.withBaseUrl = function (url) {\n        this._baseUrl = url;\n        return this;\n    };\n    RikeTargetImpl.prototype.cancel = function () {\n        return this._cancel();\n    };\n    RikeTargetImpl.prototype._cancel = function (cause) {\n        if (!this._operation) {\n            return false;\n        }\n        this._response = undefined;\n        try {\n            if (this._observer) {\n                try {\n                    var cancel = new RikeCancelEvent(this._operation.operation, cause);\n                    this._observer.error(cancel);\n                    this._rikeEvents.emit(cancel);\n                }\n                finally {\n                    this._operation = undefined;\n                    try {\n                        this._observer.complete();\n                    }\n                    finally {\n                        this._observer = undefined;\n                    }\n                }\n            }\n        }\n        finally {\n            if (this._subscr) {\n                this._subscr.unsubscribe();\n                this._subscr = undefined;\n            }\n        }\n        return true;\n    };\n    RikeTargetImpl.prototype.operation = function (name, protocol) {\n        return new RikeOperationImpl(this, name, !protocol ? this.protocol : protocol.prior().apply(this.protocol));\n    };\n    RikeTargetImpl.prototype.startOperation = function (operation) {\n        var event = new RikeOperationEvent(operation);\n        this._cancel(event);\n        this._rikeEvents.emit(event);\n        this._operation = event;\n    };\n    RikeTargetImpl.prototype.wrapResponse = function (operation, response) {\n        var _this = this;\n        this._response = response;\n        return new Observable(function (responseObserver) {\n            if (_this._response !== response) {\n                return; // Another request already initiated\n            }\n            _this._observer = responseObserver;\n            var cleanup = function () {\n                _this._response = undefined;\n                _this._operation = undefined;\n                if (_this._subscr) {\n                    _this._subscr.unsubscribe();\n                    _this._subscr = undefined;\n                }\n            };\n            _this._subscr = response.subscribe(function (httpResponse) {\n                var response = operation.protocol.readResponse(httpResponse);\n                responseObserver.next(response);\n                _this._rikeEvents.emit(new RikeSuccessEvent(operation, response));\n            }, function (error) {\n                var errorResponse = toErrorResponse(error);\n                try {\n                    errorResponse = operation.protocol.handleError(errorResponse);\n                    responseObserver.error(errorResponse);\n                    _this._rikeEvents.emit(new RikeErrorResponseEvent(operation, errorResponse));\n                }\n                finally {\n                    cleanup();\n                }\n            }, function () {\n                try {\n                    responseObserver.complete();\n                }\n                finally {\n                    cleanup();\n                }\n            });\n        });\n    };\n    RikeTargetImpl.prototype.toString = function () {\n        return \"RikeTarget[\" + this.target + \"]\";\n    };\n    return RikeTargetImpl;\n}(RikeTarget));\nvar RikeOperationImpl = (function (_super) {\n    __extends(RikeOperationImpl, _super);\n    function RikeOperationImpl(_target, _name, _protocol) {\n        _super.call(this);\n        this._target = _target;\n        this._name = _name;\n        this._protocol = _protocol;\n        this._options = _target.internals.defaultHttpOptions.merge();\n    }\n    Object.defineProperty(RikeOperationImpl.prototype, \"rike\", {\n        get: function () {\n            return this.target.rike;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeOperationImpl.prototype, \"internals\", {\n        get: function () {\n            return this.target.internals;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeOperationImpl.prototype, \"target\", {\n        get: function () {\n            return this._target;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeOperationImpl.prototype, \"name\", {\n        get: function () {\n            return this._name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeOperationImpl.prototype, \"protocol\", {\n        get: function () {\n            return this._protocol;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RikeOperationImpl.prototype.withOptions = function (options) {\n        if (options) {\n            this._options = this._options.merge(options);\n        }\n        return this;\n    };\n    Object.defineProperty(RikeOperationImpl.prototype, \"options\", {\n        get: function () {\n            return this._options;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RikeOperationImpl.prototype.load = function (url, options) {\n        try {\n            this.startOperation();\n            options = this.requestOptions(undefined, url, options);\n            return this.wrapResponse(this.internals.request(this.requestUrl(options), options));\n        }\n        catch (e) {\n            this.target.rikeEvents.emit(new RikeExceptionEvent(this, e));\n            throw e;\n        }\n    };\n    RikeOperationImpl.prototype.send = function (request, url, options) {\n        try {\n            this.startOperation();\n            options = this.writeRequest(request, this.requestOptions(undefined, url, options));\n            return this.wrapResponse(this.internals.request(this.requestUrl(options), options));\n        }\n        catch (e) {\n            this.target.rikeEvents.emit(new RikeExceptionEvent(this, e));\n            throw e;\n        }\n    };\n    RikeOperationImpl.prototype.get = function (url, options) {\n        try {\n            this.startOperation();\n            options = this.requestOptions(RequestMethod.Get, url, options);\n            return this.wrapResponse(this.internals.get(this.requestUrl(options), options));\n        }\n        catch (e) {\n            this.target.rikeEvents.emit(new RikeExceptionEvent(this, e));\n            throw e;\n        }\n    };\n    RikeOperationImpl.prototype.post = function (request, url, options) {\n        try {\n            this.startOperation();\n            options = this.writeRequest(request, this.requestOptions(RequestMethod.Post, url, options));\n            return this.wrapResponse(this.internals.post(this.requestUrl(options), options.body, options));\n        }\n        catch (e) {\n            this.target.rikeEvents.emit(new RikeExceptionEvent(this, e));\n            throw e;\n        }\n    };\n    RikeOperationImpl.prototype.put = function (request, url, options) {\n        try {\n            this.startOperation();\n            options = this.writeRequest(request, this.requestOptions(RequestMethod.Put, url, options));\n            return this.wrapResponse(this.internals.put(this.requestUrl(options), options.body, options));\n        }\n        catch (e) {\n            this.target.rikeEvents.emit(new RikeExceptionEvent(this, e));\n            throw e;\n        }\n    };\n    //noinspection ReservedWordAsName\n    RikeOperationImpl.prototype.delete = function (url, options) {\n        try {\n            this.startOperation();\n            options = this.requestOptions(RequestMethod.Delete, url, options);\n            return this.wrapResponse(this.internals.delete(this.requestUrl(options), options));\n        }\n        catch (e) {\n            this.target.rikeEvents.emit(new RikeExceptionEvent(this, e));\n            throw e;\n        }\n    };\n    RikeOperationImpl.prototype.patch = function (request, url, options) {\n        try {\n            this.startOperation();\n            options = this.writeRequest(request, this.requestOptions(RequestMethod.Patch, url, options));\n            return this.wrapResponse(this.internals.patch(this.requestUrl(options), options.body, options));\n        }\n        catch (e) {\n            this.target.rikeEvents.emit(new RikeExceptionEvent(this, e));\n            throw e;\n        }\n    };\n    RikeOperationImpl.prototype.head = function (url, options) {\n        try {\n            this.startOperation();\n            options = this.requestOptions(RequestMethod.Head, url, options);\n            return this.wrapResponse(this.internals.head(this.requestUrl(options), options));\n        }\n        catch (e) {\n            this.target.rikeEvents.emit(new RikeExceptionEvent(this, e));\n            throw e;\n        }\n    };\n    RikeOperationImpl.prototype.toString = function () {\n        return \"RikeOperation[\" + this.name + \"@\" + this.target + \"]\";\n    };\n    RikeOperationImpl.prototype.startOperation = function () {\n        this.target.startOperation(this);\n    };\n    RikeOperationImpl.prototype.requestOptions = function (method, url, options) {\n        if (!options) {\n            options = { url: url, method: method };\n        }\n        else {\n            options = new RequestOptions(options).merge({ url: url, method: method });\n        }\n        options = this.options.merge(options);\n        if (options.url == null) {\n            options.url = this.target.baseUrl;\n        }\n        else {\n            options.url = relativeUrl(this.target.baseUrl, options.url);\n        }\n        return this.protocol.prepareRequest(options);\n    };\n    RikeOperationImpl.prototype.writeRequest = function (request, options) {\n        options = this.protocol.writeRequest(request, options);\n        return options;\n    };\n    //noinspection JSMethodCanBeStatic\n    RikeOperationImpl.prototype.requestUrl = function (options) {\n        if (options.url != null) {\n            return options.url;\n        }\n        throw new Error(\"Request URL not specified\");\n    };\n    RikeOperationImpl.prototype.wrapResponse = function (response) {\n        return this.target.wrapResponse(this, response);\n    };\n    return RikeOperationImpl;\n}(RikeOperation));\n//# sourceMappingURL=rike.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Component, Input } from \"@angular/core\";\nimport { StatusCollector, DEFAULT_STATUS_LABELS } from \"./status-collector\";\nimport { isArray } from \"rxjs/util/isArray\";\nexport var RikeStatusComponent = (function () {\n    function RikeStatusComponent(_collector) {\n        this._collector = _collector;\n        this._ownStatusView = false;\n        this._labelText = defaultLabelText;\n        this._labelClass = defaultStatusClass;\n    }\n    Object.defineProperty(RikeStatusComponent.prototype, \"collector\", {\n        get: function () {\n            return this._collector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeStatusComponent.prototype, \"statusView\", {\n        get: function () {\n            if (this._statusView) {\n                return this._statusView;\n            }\n            this._statusView = this.createStatusView();\n            this._ownStatusView = true;\n            return this._statusView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeStatusComponent.prototype, \"rikeStatus\", {\n        get: function () {\n            return this._statusView;\n        },\n        set: function (statusView) {\n            if (statusView === this._statusView) {\n                return;\n            }\n            this.releaseStatusView();\n            this._statusView = statusView;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeStatusComponent.prototype, \"rikeStatusLabels\", {\n        get: function () {\n            return this._statusLabels;\n        },\n        set: function (labels) {\n            this._statusView = undefined;\n            this._statusLabels = labels;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeStatusComponent.prototype, \"rikeStatusLabelText\", {\n        get: function () {\n            return this._labelText;\n        },\n        set: function (value) {\n            this._labelText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeStatusComponent.prototype, \"rikeStatusLabelClass\", {\n        get: function () {\n            return this._labelClass;\n        },\n        set: function (value) {\n            this._labelClass = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeStatusComponent.prototype, \"cssClass\", {\n        get: function () {\n            return this._labelClass(this.statusView);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeStatusComponent.prototype, \"text\", {\n        get: function () {\n            var labels = this.statusView.labels;\n            if (!labels.length) {\n                return undefined;\n            }\n            var text = \"\";\n            for (var _i = 0, labels_1 = labels; _i < labels_1.length; _i++) {\n                var label = labels_1[_i];\n                var t = this.rikeStatusLabelText(label);\n                if (text) {\n                    text += \", \";\n                }\n                text += t;\n            }\n            if (this.statusView.processing) {\n                text += \"...\";\n            }\n            return text;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RikeStatusComponent.prototype.ngOnDestroy = function () {\n        this.releaseStatusView();\n    };\n    RikeStatusComponent.prototype.createStatusView = function () {\n        var labels = this.rikeStatusLabels;\n        if (labels) {\n            if (!isArray(labels)) {\n                return this.collector.view(labels);\n            }\n            if (labels.length) {\n                return (_a = this.collector).view.apply(_a, labels);\n            }\n        }\n        return this.collector.view(DEFAULT_STATUS_LABELS);\n        var _a;\n    };\n    RikeStatusComponent.prototype.releaseStatusView = function () {\n        var statusView = this._statusView;\n        if (statusView) {\n            this._statusView = undefined;\n            if (this._ownStatusView) {\n                statusView.close();\n            }\n        }\n    };\n    __decorate([\n        Input(), \n        __metadata('design:type', Object)\n    ], RikeStatusComponent.prototype, \"rikeStatus\", null);\n    __decorate([\n        Input(), \n        __metadata('design:type', Object)\n    ], RikeStatusComponent.prototype, \"rikeStatusLabels\", null);\n    __decorate([\n        Input(), \n        __metadata('design:type', Function)\n    ], RikeStatusComponent.prototype, \"rikeStatusLabelText\", null);\n    __decorate([\n        Input(), \n        __metadata('design:type', Function)\n    ], RikeStatusComponent.prototype, \"rikeStatusLabelClass\", null);\n    RikeStatusComponent = __decorate([\n        Component({\n            selector: 'rike-status,[rikeStatus],[rikeStatusLabels],[rikeStatusLabelText],[rikeStatusLabelClass]',\n            template: \"<span class=\\\"rike-status-icon\\\"></span> {{text}}\",\n            host: {\n                \"[class]\": \"cssClass\",\n            }\n        }), \n        __metadata('design:paramtypes', [StatusCollector])\n    ], RikeStatusComponent);\n    return RikeStatusComponent;\n}());\nfunction defaultLabelText(label) {\n    if (typeof label === \"string\") {\n        return label;\n    }\n    var defaultLabel = label;\n    if (defaultLabel.message) {\n        return defaultLabel.message;\n    }\n    return label.toString();\n}\nfunction defaultStatusClass(status) {\n    var labels = status.labels;\n    if (!labels.length) {\n        return \"rike-status rike-status-hidden\";\n    }\n    var result = processingTypeClass(status);\n    for (var _i = 0, labels_2 = labels; _i < labels_2.length; _i++) {\n        var label = labels_2[_i];\n        var defaultLabel = label;\n        var cssClass = defaultLabel.cssClass;\n        if (cssClass) {\n            result += \" \" + cssClass;\n            continue;\n        }\n        var id = defaultLabel.id;\n        if (id) {\n            result += \" rike-status-\" + id;\n        }\n    }\n    return result;\n}\nfunction processingTypeClass(status) {\n    if (status.processing) {\n        return \"rike-status rike-status-processing\";\n    }\n    if (status.cancelled) {\n        return \"rike-status rike-status-cancelled\";\n    }\n    if (status.failed) {\n        return \"rike-status rike-status-failed\";\n    }\n    if (status.succeed) {\n        return \"rike-status rike-status-succeed\";\n    }\n    return \"rike-status rike-status-hidden\";\n}\n//# sourceMappingURL=status.component.js.map","function isJsonResponse(httpResponse) {\n    var contentType = httpResponse.headers.get(\"Content-Type\");\n    if (!contentType) {\n        return false;\n    }\n    var idx = contentType.indexOf(\";\");\n    if (idx >= 0) {\n        contentType = contentType.substring(0, idx);\n    }\n    return contentType.trim() === \"application/json\";\n}\n/**\n * Appends field errors to {{ErrorResponse}}.\n *\n * If field errors already present in `ErrorResponse` then does nothing.\n *\n * This function can be used as {{Protocol}} error handler.\n *\n * @param error object to convert.\n *\n * @return {FieldErrorResponse} constructed error httpResponse.\n */\nexport function addFieldErrors(error) {\n    var response = error;\n    if (response.fieldErrors) {\n        // Field errors already present.\n        return response;\n    }\n    var httpResponse = error.response;\n    var body = undefined;\n    // Attempt to parse JSON body\n    if (isJsonResponse(httpResponse)) {\n        try {\n            body = httpResponse.json();\n        }\n        catch (e) {\n            console.error(\"Failed to parse JSON error response\", e);\n        }\n    }\n    var fieldErrors = toFieldErrors(body);\n    if (fieldErrors) {\n        response.fieldErrors = fieldErrors;\n        return response;\n    }\n    return defaultFieldErrors(response);\n}\nfunction defaultFieldErrors(response) {\n    var httpResponse = response.response;\n    var message = \"ERROR \" + httpResponse.status;\n    if (httpResponse.statusText && httpResponse.statusText.toLowerCase() != \"ok\") {\n        message += \": \" + httpResponse.statusText;\n    }\n    response.fieldErrors = { \"*\": [{ code: \"HTTP\" + httpResponse.status, message: message }] };\n    return response;\n}\nfunction toFieldErrors(data) {\n    if (data == null) {\n        return undefined;\n    }\n    if (Array.isArray(data)) {\n        var fieldErrors = data.map(toFieldError).filter(notEmptyError);\n        return fieldErrors.length ? { \"*\": fieldErrors } : undefined;\n    }\n    if (typeof data !== \"object\") {\n        var fieldErrors = [{ message: data.toString() }].filter(notEmptyError);\n        return fieldErrors.length ? { \"*\": fieldErrors } : undefined;\n    }\n    var errors = data;\n    var result = {};\n    var hasErrors = false;\n    for (var field in errors) {\n        if (errors.hasOwnProperty(field)) {\n            var errorArray = toFieldErrorArray(errors[field]);\n            if (errorArray.length) {\n                result[field] = errorArray;\n                hasErrors = true;\n            }\n        }\n    }\n    return hasErrors ? result : undefined;\n}\nfunction toFieldErrorArray(data) {\n    if (data == null) {\n        return [];\n    }\n    if (Array.isArray(data)) {\n        return data.map(toFieldError).filter(notEmptyError);\n    }\n    return [toFieldError(data)].filter(notEmptyError);\n}\nfunction toFieldError(data) {\n    if (data == null) {\n        return { message: \"\" };\n    }\n    var fieldError = data;\n    if (typeof fieldError.message === \"string\" && (fieldError.code == null || fieldError.code === \"string\")) {\n        return fieldError;\n    }\n    if (fieldError.message != null) {\n        return {\n            code: fieldError.code != null ? fieldError.code.toString() : undefined,\n            message: fieldError.message.toString(),\n        };\n    }\n    return { message: fieldError.toString() };\n}\nfunction notEmptyError(item) {\n    return !!item && (!!item.message || !!item.code);\n}\n//# sourceMappingURL=field-error.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Injectable, EventEmitter, Optional, Inject } from \"@angular/core\";\nimport { addFieldErrors } from \"./field-error\";\nimport { RikeEventSource } from \"./event\";\n/**\n * An error collecting service.\n *\n * It collects errors from all available [Rike event sources][RikeEventSource]. It uses `fieldErrors()` method\n * to obtain a `FieldErrors` instance from {{RikeErrorEvent}}. Then it notifies all subscribers on when errors received\n * or removed.\n *\n * This service is registered automatically along with every event source by `provideEventSource()` function.\n * But unlike event sources it is not a multi-provider.\n *\n * An instance of this class could be created on its own. Then it is necessary to subscribe it on Rike events with\n * `subscribeOn` method.\n */\nexport var ErrorCollector = (function () {\n    function ErrorCollector(_eventSources) {\n        this._eventSources = _eventSources;\n        this._emitters = {};\n        this._targetErrors = {};\n        this._initialized = false;\n    }\n    /**\n     * Subscribes this collector on the given Rike events emitter.\n     *\n     * @param events Rike events emitter to subscribe on.\n     */\n    ErrorCollector.prototype.subscribeOn = function (events) {\n        var _this = this;\n        return events.subscribe(function (event) { return _this.handleEvent(event); }, function (error) { return _this.handleError(error); });\n    };\n    /**\n     * Adds subscription for errors corresponding to the given field.\n     *\n     * If the field name is `\"*\"`, then subscriber will be notified on error changes for all fields except those ones\n     * with existing subscriptions.\n     *\n     * @param field target field name.\n     * @param next function that will be called on every target field errors update.\n     * @param error function that will be called on errors.\n     * @param complete function that will be called when no more errors will be reported.\n     *\n     * @return {ErrorSubscription} subscription.\n     */\n    ErrorCollector.prototype.subscribe = function (field, next, error, complete) {\n        this.init();\n        return this.fieldEmitter(field).subscribe(next, error, complete);\n    };\n    /**\n     * Adds subscription for errors corresponding to all fields except those ones with existing subscriptions.\n     *\n     * Calling this method is the same as calling `subscribe(\"*\", next, error, complete);`.\n     *\n     * @param next function that will be called on every errors update.\n     * @param error function that will be called on errors.\n     * @param complete function that will be called when no more errors will be reported.\n     *\n     * @return {ErrorSubscription} subscription.\n     */\n    ErrorCollector.prototype.subscribeForRest = function (next, error, complete) {\n        return this.subscribe(\"*\", next, error, complete);\n    };\n    //noinspection JSMethodCanBeStatic\n    /**\n     * Converts error to `FieldErrors`.\n     *\n     * This method uses `addFieldErrors` function by default. Override it if you are using custom error handler.\n     *\n     * @param error arbitrary error passed in [RikeEvent.error] field.\n     *\n     * @return {FieldErrors} field errors.\n     */\n    ErrorCollector.prototype.fieldErrors = function (error) {\n        var errorResponse = error.errorResponse;\n        if (errorResponse) {\n            return addFieldErrors(errorResponse).fieldErrors;\n        }\n        return {\n            \"*\": [\n                { message: errorEventMessage(error) }\n            ]\n        };\n    };\n    ErrorCollector.prototype.fieldEmitter = function (field) {\n        return this._emitters[field] || (this._emitters[field] = new FieldEmitter(field, this._emitters, this._targetErrors));\n    };\n    ErrorCollector.prototype.init = function () {\n        if (this._initialized) {\n            return;\n        }\n        this._initialized = true;\n        if (this._eventSources) {\n            for (var _i = 0, _a = this._eventSources; _i < _a.length; _i++) {\n                var src = _a[_i];\n                this.subscribeOn(src.rikeEvents);\n            }\n        }\n    };\n    ErrorCollector.prototype.handleEvent = function (event) {\n        var affectedFields;\n        if (!event.error) {\n            affectedFields = this.clearTargetErrors(event.target);\n        }\n        else {\n            affectedFields = this.targetErrors(event.target)\n                .addAll(this.fieldErrors(event));\n        }\n        for (var field in affectedFields) {\n            if (field !== \"*\" && affectedFields.hasOwnProperty(field)) {\n                this.notify(field);\n            }\n        }\n        this.notify(\"*\"); // Always notify about common errors\n    };\n    ErrorCollector.prototype.handleError = function (error) {\n        this.targetErrors(error.target).add(\"*\", { message: errorEventMessage(error) });\n        this.notify(\"*\");\n    };\n    ErrorCollector.prototype.targetErrors = function (target) {\n        var id = target.uniqueId;\n        return this._targetErrors[id] || (this._targetErrors[id] = new TargetErrors(target, this._emitters));\n    };\n    ErrorCollector.prototype.clearTargetErrors = function (target) {\n        var id = target.uniqueId;\n        var targetErrors = this._targetErrors[id];\n        if (!targetErrors) {\n            return {};\n        }\n        delete this._targetErrors[id];\n        return targetErrors.fieldsWithErrors;\n    };\n    ErrorCollector.prototype.notify = function (field) {\n        var emitter = this._emitters[field];\n        if (emitter) {\n            emitter.notify();\n        }\n    };\n    ErrorCollector = __decorate([\n        Injectable(),\n        __param(0, Inject(RikeEventSource)),\n        __param(0, Optional()), \n        __metadata('design:paramtypes', [Array])\n    ], ErrorCollector);\n    return ErrorCollector;\n}());\nfunction errorEventMessage(error) {\n    if (error.cancel) {\n        if (!error.cancelledBy) {\n            return \"Cancelled\";\n        }\n        return \"Cancelled by `\" + error.cancelledBy.operation.name + \"` operation\";\n    }\n    return error.error.toString();\n}\nvar FieldEmitter = (function () {\n    function FieldEmitter(_field, _emitters, _targetErrors) {\n        this._field = _field;\n        this._emitters = _emitters;\n        this._targetErrors = _targetErrors;\n        this._emitter = new EventEmitter();\n        this._counter = 0;\n    }\n    FieldEmitter.prototype.subscribe = function (next, error, complete) {\n        var subscr = this._emitter.subscribe(next, error, complete);\n        this._counter++;\n        return new ErrorSubscr(this, subscr).subscribe(next, error, complete);\n    };\n    FieldEmitter.prototype.notify = function (emitter) {\n        var errors = {};\n        for (var id in this._targetErrors) {\n            if (this._targetErrors.hasOwnProperty(id)) {\n                this._targetErrors[id].appendTo(this._field, errors);\n            }\n        }\n        (emitter || this._emitter).emit(errors);\n    };\n    FieldEmitter.prototype.unsubscribed = function () {\n        if (!--this._counter) {\n            delete this._emitters[this._field];\n        }\n    };\n    return FieldEmitter;\n}());\nvar ErrorSubscr = (function () {\n    function ErrorSubscr(_fieldEmitter, _subscription) {\n        this._fieldEmitter = _fieldEmitter;\n        this._subscription = _subscription;\n        this._refreshEmitter = new EventEmitter();\n    }\n    ErrorSubscr.prototype.subscribe = function (next, error, complete) {\n        this._refreshSubscription = this._refreshEmitter.subscribe(next, error, complete);\n        return this;\n    };\n    ErrorSubscr.prototype.unsubscribe = function () {\n        if (!this._subscription) {\n            return;\n        }\n        try {\n            this._subscription.unsubscribe();\n            this._refreshSubscription.unsubscribe();\n        }\n        finally {\n            delete this._subscription;\n            this._fieldEmitter.unsubscribed();\n        }\n    };\n    ErrorSubscr.prototype.refresh = function () {\n        if (!this._subscription) {\n            return this;\n        }\n        this._fieldEmitter.notify(this._refreshEmitter);\n        return this;\n    };\n    return ErrorSubscr;\n}());\nvar TargetErrors = (function () {\n    function TargetErrors(target, _emitters, errors) {\n        this.target = target;\n        this._emitters = _emitters;\n        this._errors = errors || {};\n    }\n    Object.defineProperty(TargetErrors.prototype, \"fieldsWithErrors\", {\n        get: function () {\n            return this._errors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TargetErrors.prototype.add = function (field) {\n        var errors = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            errors[_i - 1] = arguments[_i];\n        }\n        var existing = this._errors[field];\n        if (!existing) {\n            this._errors[field] = errors;\n        }\n        else {\n            (_a = this._errors[field]).push.apply(_a, errors);\n        }\n        var _a;\n    };\n    TargetErrors.prototype.addAll = function (errors) {\n        for (var field in errors) {\n            if (errors.hasOwnProperty(field)) {\n                this.add.apply(this, [field].concat(errors[field]));\n            }\n        }\n        return errors;\n    };\n    TargetErrors.prototype.appendTo = function (field, out) {\n        if (field !== \"*\") {\n            // Append errors for the given field.\n            appendErrorsTo(field, out, this._errors[field]);\n            return;\n        }\n        // Append errors for all fields except the ones with subscribers.\n        for (var f in this._errors) {\n            if (f === \"*\" || this._errors.hasOwnProperty(f) && !this._emitters[f]) {\n                appendErrorsTo(f, out, this._errors[f]);\n            }\n        }\n    };\n    return TargetErrors;\n}());\nfunction appendErrorsTo(field, fieldErrors, errors) {\n    if (!errors || !errors.length) {\n        return;\n    }\n    var errs = fieldErrors[field];\n    if (errs) {\n        errs.push.apply(errs, errors);\n    }\n    else {\n        fieldErrors[field] = errors;\n    }\n}\n//# sourceMappingURL=error-collector.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Component, Input, Optional } from \"@angular/core\";\nimport { ErrorCollector } from \"./error-collector\";\nexport var RikeErrorsComponent = (function () {\n    function RikeErrorsComponent(_collector) {\n        this._collector = _collector;\n        this._errors = [];\n        this._initialized = false;\n    }\n    Object.defineProperty(RikeErrorsComponent.prototype, \"rikeErrors\", {\n        get: function () {\n            return this._field;\n        },\n        set: function (field) {\n            if (this._field === field) {\n                return;\n            }\n            this._field = field;\n            this.reinit();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeErrorsComponent.prototype, \"errorCollector\", {\n        get: function () {\n            return this._collector || (this._collector = this.createCollector());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeErrorsComponent.prototype, \"rikeErrorsOf\", {\n        get: function () {\n            return this._collector;\n        },\n        set: function (collector) {\n            if (this._collector === collector) {\n                return;\n            }\n            this._collector = collector;\n            this.reinit();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeErrorsComponent.prototype, \"errors\", {\n        get: function () {\n            return this._errors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RikeErrorsComponent.prototype.ngOnInit = function () {\n        this._initialized = true;\n        this.subscribe();\n    };\n    RikeErrorsComponent.prototype.ngOnDestroy = function () {\n        this._initialized = false;\n        this.unsubscribe();\n    };\n    //noinspection JSMethodCanBeStatic\n    RikeErrorsComponent.prototype.createCollector = function () {\n        return new ErrorCollector();\n    };\n    RikeErrorsComponent.prototype.updateErrors = function (errors) {\n        var list = [];\n        for (var field in errors) {\n            if (errors.hasOwnProperty(field)) {\n                list.push.apply(list, errors[field]);\n            }\n        }\n        this._errors = list;\n    };\n    RikeErrorsComponent.prototype.reinit = function () {\n        if (this._initialized) {\n            this.unsubscribe();\n            this.subscribe();\n        }\n    };\n    RikeErrorsComponent.prototype.subscribe = function () {\n        var _this = this;\n        if (this._field) {\n            this._subscription =\n                this.errorCollector.subscribe(this._field, function (errors) { return _this.updateErrors(errors); }).refresh();\n        }\n        else {\n            this._subscription =\n                this.errorCollector.subscribeForRest(function (errors) { return _this.updateErrors(errors); }).refresh();\n        }\n    };\n    RikeErrorsComponent.prototype.unsubscribe = function () {\n        this._errors = [];\n        var subscription = this._subscription;\n        if (subscription) {\n            delete this._subscription;\n            subscription.unsubscribe();\n        }\n    };\n    __decorate([\n        Input(), \n        __metadata('design:type', Object)\n    ], RikeErrorsComponent.prototype, \"rikeErrors\", null);\n    __decorate([\n        Input(), \n        __metadata('design:type', Object)\n    ], RikeErrorsComponent.prototype, \"rikeErrorsOf\", null);\n    RikeErrorsComponent = __decorate([\n        Component({\n            selector: 'rike-errors,[rikeErrors],[rikeErrorsOf]',\n            template: \"\\n    <ul class=\\\"rike-error-list\\\" *ngIf=\\\"errors.length\\\">\\n        <li class=\\\"rike-error\\\" *ngFor=\\\"let error of errors\\\">{{error.message}}</li>\\n    </ul>\\n    \",\n            host: {\n                \"[class.rike-errors]\": \"true\",\n                \"[class.rike-no-errors]\": \"!errors.length\"\n            }\n        }),\n        __param(0, Optional()), \n        __metadata('design:paramtypes', [ErrorCollector])\n    ], RikeErrorsComponent);\n    return RikeErrorsComponent;\n}());\n//# sourceMappingURL=errors.component.js.map","import { RikeEventSource } from \"./event\";\nimport { StatusCollector } from \"./status-collector\";\nimport { ErrorCollector } from \"./error-collector\";\n/**\n * Constructs provider recipe for {{RikeEventSource}}.\n *\n * @param useClass\n * @param useValue\n * @param useExisting\n * @param useFactory\n * @param deps\n *\n * @return new provider recipe.\n */\nexport function provideEventSource(_a) {\n    var useClass = _a.useClass, useValue = _a.useValue, useExisting = _a.useExisting, useFactory = _a.useFactory, deps = _a.deps;\n    return [\n        StatusCollector,\n        ErrorCollector,\n        {\n            provide: RikeEventSource,\n            multi: true,\n            useClass: useClass,\n            useValue: useValue,\n            useExisting: useExisting,\n            useFactory: useFactory,\n            deps: deps,\n        },\n    ];\n}\n//# sourceMappingURL=event-source-provider.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Directive, Optional, Input, HostBinding } from \"@angular/core\";\nimport { StatusCollector } from \"./status-collector\";\nexport var RikeDisabledDirective = (function () {\n    function RikeDisabledDirective(_rikeDisabledBy) {\n        this._rikeDisabledBy = _rikeDisabledBy;\n        this._disabledByDefault = false;\n    }\n    Object.defineProperty(RikeDisabledDirective.prototype, \"disabled\", {\n        get: function () {\n            return this.rikeDisabledBy.processing || this._disabledByDefault;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeDisabledDirective.prototype, \"rikeDisabled\", {\n        set: function (disabled) {\n            this._disabledByDefault = !!disabled;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeDisabledDirective.prototype, \"rikeDisabledBy\", {\n        get: function () {\n            return this._rikeDisabledBy;\n        },\n        set: function (collector) {\n            this._rikeDisabledBy = collector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    __decorate([\n        HostBinding(\"disabled\"),\n        HostBinding(\"class.rike-disabled\"), \n        __metadata('design:type', Boolean)\n    ], RikeDisabledDirective.prototype, \"disabled\", null);\n    __decorate([\n        Input(), \n        __metadata('design:type', Object), \n        __metadata('design:paramtypes', [Object])\n    ], RikeDisabledDirective.prototype, \"rikeDisabled\", null);\n    __decorate([\n        Input(), \n        __metadata('design:type', StatusCollector)\n    ], RikeDisabledDirective.prototype, \"rikeDisabledBy\", null);\n    RikeDisabledDirective = __decorate([\n        Directive({\n            selector: '[rikeDisabled],[rikeDisabledBy]',\n            exportAs: 'rikeDisabled',\n        }),\n        __param(0, Optional()), \n        __metadata('design:paramtypes', [StatusCollector])\n    ], RikeDisabledDirective);\n    return RikeDisabledDirective;\n}());\n//# sourceMappingURL=disabled.directive.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Directive, Optional, Input, HostBinding } from \"@angular/core\";\nimport { StatusCollector } from \"./status-collector\";\nexport var RikeReadonlyDirective = (function () {\n    function RikeReadonlyDirective(_rikeReadonlyBy) {\n        this._rikeReadonlyBy = _rikeReadonlyBy;\n        this._readonlyByDefault = false;\n    }\n    Object.defineProperty(RikeReadonlyDirective.prototype, \"readonly\", {\n        get: function () {\n            return this.rikeReadonlyBy.processing || this._readonlyByDefault;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeReadonlyDirective.prototype, \"rikeReadonly\", {\n        set: function (disabled) {\n            this._readonlyByDefault = !!disabled;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeReadonlyDirective.prototype, \"rikeReadonlyBy\", {\n        get: function () {\n            return this._rikeReadonlyBy;\n        },\n        set: function (collector) {\n            this._rikeReadonlyBy = collector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    __decorate([\n        HostBinding(\"readonly\"),\n        HostBinding(\"class.rike-readonly\"), \n        __metadata('design:type', Boolean)\n    ], RikeReadonlyDirective.prototype, \"readonly\", null);\n    __decorate([\n        Input(), \n        __metadata('design:type', Object), \n        __metadata('design:paramtypes', [Object])\n    ], RikeReadonlyDirective.prototype, \"rikeReadonly\", null);\n    __decorate([\n        Input(), \n        __metadata('design:type', StatusCollector)\n    ], RikeReadonlyDirective.prototype, \"rikeReadonlyBy\", null);\n    RikeReadonlyDirective = __decorate([\n        Directive({\n            selector: '[rikeReadonly],[rikeReadonlyBy]',\n            exportAs: 'rikeReadonly',\n        }),\n        __param(0, Optional()), \n        __metadata('design:paramtypes', [StatusCollector])\n    ], RikeReadonlyDirective);\n    return RikeReadonlyDirective;\n}());\n//# sourceMappingURL=readonly.directive.js.map","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nimport { RequestOptions } from \"@angular/http\";\nimport { Observable } from \"rxjs/Rx\";\nimport { JSON_PROTOCOL, jsonProtocol } from \"./protocol\";\nimport { relativeUrl } from \"./options\";\n/**\n * An interface of REST-like resources.\n *\n * An operations target is created per resource with a resource instance as target value. All operations on this\n * resource should be performed using this target.\n *\n * This class can be used as a token for resources. It can be registered as Angular service with {{provideResource}}.\n */\nexport var Resource = (function () {\n    function Resource() {\n    }\n    return Resource;\n}());\n/**\n * Abstract implementation of REST-like resource.\n */\nexport var RikeResource = (function () {\n    function RikeResource(_rike) {\n        this._rike = _rike;\n    }\n    Object.defineProperty(RikeResource.prototype, \"rike\", {\n        /**\n         * Rike interface instance.\n         */\n        get: function () {\n            return this._rike;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RikeResource.prototype, \"rikeTarget\", {\n        /**\n         * Rike operations target for this resource.\n         *\n         * @return {RikeTarget<any, any>} the result of `this.getRikeTarget()` call.\n         */\n        get: function () {\n            return this.getRikeTarget();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Rike operations target for this resource.\n     *\n     * Creates Rike target when needed by calling `createRikeTarget()` method.\n     *\n     * @return {RikeTarget<any, any>}\n     */\n    RikeResource.prototype.getRikeTarget = function () {\n        return this._rikeTarget || (this._rikeTarget = this.createRikeTarget());\n    };\n    /**\n     * Creates Rike operation target for this resource.\n     *\n     * This method is called by `getRikeTarget()` method on demand.\n     *\n     * @return {RikeTarget<any, any>} new Rike target.\n     */\n    RikeResource.prototype.createRikeTarget = function () {\n        return this.rike.target(this, JSON_PROTOCOL);\n    };\n    return RikeResource;\n}());\n/**\n * Loadable resource.\n *\n * It is able to load arbitrary data from the server. By default expects a JSON data. Override `createRikeTarget()`\n * method to change it. When loaded the data will be cached. Call `reload()` method to reload it.\n *\n * @param <T> loaded data type.\n */\nexport var LoadableResource = (function (_super) {\n    __extends(LoadableResource, _super);\n    function LoadableResource(rike) {\n        _super.call(this, rike);\n    }\n    Object.defineProperty(LoadableResource.prototype, \"rikeTarget\", {\n        get: function () {\n            return this.getRikeTarget();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LoadableResource.prototype.getRikeTarget = function () {\n        return _super.prototype.getRikeTarget.call(this);\n    };\n    Object.defineProperty(LoadableResource.prototype, \"data\", {\n        /**\n         * Loaded data.\n         *\n         * @return {T} `undefined` if data is not loaded yet.\n         */\n        get: function () {\n            return this._data;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Loads data from server if not loaded yet.\n     *\n     * @return {Observable<T>}\n     */\n    LoadableResource.prototype.load = function () {\n        var _this = this;\n        var data = this.data;\n        if (data) {\n            return Observable.of(data);\n        }\n        return new Observable(function (observer) {\n            _this.rikeTarget\n                .operation(\"load\")\n                .get()\n                .subscribe(function (data) {\n                _this._data = data;\n                observer.next(data);\n            }, function (error) { return observer.error(error); }, function () { return observer.complete(); });\n        });\n    };\n    /**\n     * Reloads data from server.\n     */\n    LoadableResource.prototype.reload = function () {\n        this.reset();\n        return this.load();\n    };\n    /**\n     * Resets the resource by cleaning cached data.\n     */\n    LoadableResource.prototype.reset = function () {\n        this._data = undefined;\n    };\n    LoadableResource.prototype.createRikeTarget = function () {\n        return this.rike.target(this, jsonProtocol());\n    };\n    return LoadableResource;\n}(RikeResource));\n/**\n * CRUD (Create, Load, Update, Delete) resource.\n *\n * It is able to manipulate with server objects. By default it operates over JSON protocol.\n * Override `createRikeTarget()` method to change it.\n */\nexport var CRUDResource = (function (_super) {\n    __extends(CRUDResource, _super);\n    function CRUDResource(rike) {\n        _super.call(this, rike);\n    }\n    Object.defineProperty(CRUDResource.prototype, \"rikeTarget\", {\n        get: function () {\n            return this.getRikeTarget();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CRUDResource.prototype.getRikeTarget = function () {\n        return _super.prototype.getRikeTarget.call(this);\n    };\n    /**\n     * Creates an object on the server.\n     *\n     * Sends `POST` HTTP request. Uses protocol returned from `this.objectCreateProtocol(object)` method.\n     *\n     * @param object an object to create.\n     *\n     * @return {Observable<O>}\n     */\n    CRUDResource.prototype.create = function (object) {\n        return this.rikeTarget.operation(\"create\", this.objectCreateProtocol(object)).post(object);\n    };\n    /**\n     * Reads an object from the server.\n     *\n     * Sends `GET` HTTP request. Uses protocol returned from `this.objectReadProtocol(id)` method call.\n     *\n     * @param id an identifier of object to read.\n     *\n     * @return {Observable<O>}\n     */\n    CRUDResource.prototype.read = function (id) {\n        return this.rikeTarget.operation(\"read\", this.objectReadProtocol(id)).get();\n    };\n    /**\n     * Updates an object on the server.\n     *\n     * Sends `POST` HTTP request. Uses protocol returned from `this.objectUpdateProtocol(object)` method call.\n     *\n     * @param object an object to update.\n     *\n     * @return {Observable<O>}\n     */\n    CRUDResource.prototype.update = function (object) {\n        return this.rikeTarget.operation(\"update\", this.objectUpdateProtocol(object)).put(object);\n    };\n    /**\n     * Deletes an object on the server.\n     *\n     * Sends `DELETE` HTTP request. Uses protocol returned from `this.objectDeleteProtocol(object)` method call.\n     *\n     * @param object an object to delete.\n     *\n     * @return {Observable<any>}\n     */\n    //noinspection ReservedWordAsName\n    CRUDResource.prototype.delete = function (object) {\n        return this.rikeTarget.operation(\"delete\", this.objectDeleteProtocol(object)).delete();\n    };\n    CRUDResource.prototype.createRikeTarget = function () {\n        return this.rike.target(this, jsonProtocol());\n    };\n    /**\n     * Constructs object creation protocol.\n     *\n     * @param object an object to create.\n     *\n     * @return {Protocol<T, T>} creation protocol.\n     */\n    CRUDResource.prototype.objectCreateProtocol = function (object) {\n        return this.rikeTarget.protocol.instead().readResponse(function (response) { return object; });\n    };\n    /**\n     * Constructs object read protocol.\n     *\n     * This protocol updates request URL with `objectUrl()` by default.\n     *\n     * @param id an identifier of object to read.\n     *\n     * @return {Protocol<T, T>} read protocol.\n     */\n    CRUDResource.prototype.objectReadProtocol = function (id) {\n        var _this = this;\n        return this.rikeTarget.protocol.prior()\n            .prepareRequest(function (options) { return _this.objectReadOptions(options, id); });\n    };\n    /**\n     * Updates object read request options.\n     *\n     * By default returns the result of `objectOptions()` method call.\n     *\n     * This method is used by `objectReadProtocol()` method.\n     *\n     * @param options original request options.\n     * @param id an identifier of object to read.\n     *\n     * @return {RequestOptionsArgs} updated request options.\n     */\n    CRUDResource.prototype.objectReadOptions = function (options, id) {\n        return this.objectOptions(options, id);\n    };\n    /**\n     * Constructs object update protocol.\n     *\n     * This protocol detects object identifier with `objectId()` method and updates request URL with `objectUrl()`\n     * by default.\n     *\n     * @param object an object to update.\n     *\n     * @return {Protocol<T, T>} update protocol.\n     */\n    CRUDResource.prototype.objectUpdateProtocol = function (object) {\n        var _this = this;\n        return this.rikeTarget.protocol\n            .prior()\n            .updateRequest(function (object, options) { return _this.objectUpdateOptions(options, object); })\n            .instead()\n            .readResponse(function (response) { return object; });\n    };\n    //noinspection JSMethodCanBeStatic,JSUnusedLocalSymbols\n    /**\n     * Updates the given object update request options.\n     *\n     * By default returns original options.\n     *\n     * This method is used by `objectUpdateProtocol()` method and can be overridden e.g. to call an\n     * `objectOptions()` method.\n     *\n     * @param options original request options.\n     * @param object object to update.\n     *\n     * @return {RequestOptionsArgs} updated request options.\n     */\n    CRUDResource.prototype.objectUpdateOptions = function (options, object) {\n        return options;\n    };\n    /**\n     * Constructs object deletion protocol.\n     *\n     * This protocol detects object identifier with `objectId()` method and updates request URL with `objectUrl()`\n     * by default.\n     *\n     * @param object an object to delete.\n     *\n     * @return {Protocol<T, T>} deletion protocol.\n     */\n    CRUDResource.prototype.objectDeleteProtocol = function (object) {\n        var _this = this;\n        return this.rikeTarget.protocol\n            .prior()\n            .updateRequest(function (object, options) { return _this.objectDeleteOptions(options, object); })\n            .instead()\n            .readResponse(function (response) { return object; });\n    };\n    /**\n     * Updates object delete request options.\n     *\n     * By default returns the result of `objectOptions()` method call.\n     *\n     * This method is used by `objectDeleteProtocol()` method.\n     *\n     * @param options original request options.\n     * @param object an object to delete.\n     *\n     * @return {RequestOptionsArgs} updated request options.\n     */\n    CRUDResource.prototype.objectDeleteOptions = function (options, object) {\n        return this.objectOptions(options, this.objectId(object));\n    };\n    //noinspection JSMethodCanBeStatic\n    /**\n     * Updates request options for object with the given identifier.\n     *\n     * By default appends object identifier as URL-encoded string to the base URL.\n     *\n     * @param options original request options.\n     * @param id object identifier.\n     *\n     * @return {RequestOptionsArgs} updated request options.\n     */\n    CRUDResource.prototype.objectOptions = function (options, id) {\n        return new RequestOptions(options).merge({\n            url: relativeUrl(options.url, encodeURIComponent(id.toString()))\n        });\n    };\n    return CRUDResource;\n}(RikeResource));\n//# sourceMappingURL=resource.js.map","import { OpaqueToken } from \"@angular/core\";\nimport { provideEventSource } from \"./event-source-provider\";\nvar resourceIdSeq = 0;\n/**\n * Constructs provider recipe for {{Resource}}.\n *\n * Also registers the resource as source of Rike operation events.\n *\n * @return new provider recipe.\n */\nexport function provideResource(_a) {\n    var provide = _a.provide, useClass = _a.useClass, useValue = _a.useValue, useExisting = _a.useExisting, useFactory = _a.useFactory, deps = _a.deps;\n    var token = provide || new OpaqueToken(\"resource\" + ++resourceIdSeq);\n    return [\n        {\n            provide: token,\n            useClass: useClass,\n            useValue: useValue,\n            useExisting: useExisting,\n            useFactory: useFactory,\n            deps: deps,\n        },\n        provideEventSource({\n            useFactory: function (resource) { return resource.rikeTarget; },\n            deps: [token],\n        })\n    ];\n}\n//# sourceMappingURL=resource-provider.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { NgModule } from \"@angular/core\";\nimport { HttpModule } from \"@angular/http\";\nimport { CommonModule } from \"@angular/common\";\nimport { RikeOptions, BaseRikeOptions } from \"./ng2-rike/options\";\nimport { Rike } from \"./ng2-rike/rike\";\nimport { RikeStatusComponent } from \"./ng2-rike/status.component\";\nimport { RikeErrorsComponent } from \"./ng2-rike/errors.component\";\nimport { provideEventSource } from \"./ng2-rike/event-source-provider\";\nimport { RikeDisabledDirective } from \"./ng2-rike/disabled.directive\";\nimport { RikeReadonlyDirective } from \"./ng2-rike/readonly.directive\";\nexport * from \"./ng2-rike/disabled.directive\";\nexport * from \"./ng2-rike/error-collector\";\nexport * from \"./ng2-rike/errors.component\";\nexport * from \"./ng2-rike/event\";\nexport * from \"./ng2-rike/event-source-provider\";\nexport * from \"./ng2-rike/field-error\";\nexport * from \"./ng2-rike/options\";\nexport * from \"./ng2-rike/protocol\";\nexport * from \"./ng2-rike/readonly.directive\";\nexport * from \"./ng2-rike/resource\";\nexport * from \"./ng2-rike/resource-provider\";\nexport * from \"./ng2-rike/rike\";\nexport * from \"./ng2-rike/status-collector\";\nexport * from \"./ng2-rike/status.component\";\n/**\n * REST-like services module.\n */\nexport var RikeModule = (function () {\n    function RikeModule() {\n    }\n    /**\n     * Configures Rike.\n     *\n     * Can be used in `@NgModule` as following:\n     * ```typescript\n     * @NgModule({\n     *   imports: [\n     *     RikeModule.configure({\n     *       baseUrl: '/application/base',\n     *       defaultProtocol: CUSTOM_PROTOCOL,\n     *     })\n     *   ]\n     * })\n     * export class MyModule {\n     * }\n     * ```\n     *\n     * @param options default Rike options.\n     *\n     * @return a value that can be inserted into `imports` section of `NgModule`\n     */\n    RikeModule.configure = function (options) {\n        return {\n            ngModule: RikeModule,\n            providers: [\n                {\n                    provide: RikeOptions,\n                    useValue: new BaseRikeOptions(options),\n                }\n            ]\n        };\n    };\n    RikeModule = __decorate([\n        NgModule({\n            imports: [\n                CommonModule,\n                HttpModule,\n            ],\n            providers: [\n                Rike,\n                provideEventSource({ useExisting: Rike }),\n            ],\n            declarations: [\n                RikeStatusComponent,\n                RikeErrorsComponent,\n                RikeDisabledDirective,\n                RikeReadonlyDirective,\n            ],\n            exports: [\n                RikeStatusComponent,\n                RikeErrorsComponent,\n                RikeDisabledDirective,\n                RikeReadonlyDirective,\n            ],\n        }), \n        __metadata('design:paramtypes', [])\n    ], RikeModule);\n    return RikeModule;\n}());\n//# sourceMappingURL=ng2-rike.js.map"],"names":["__extends","Headers","RequestOptions","__decorate","__metadata","Optional","Inject","Injectable","isArray","__param","RequestMethod","Http","Observable","EventEmitter","Response","ResponseType","ResponseOptions","Component","Input","Directive","HostBinding","OpaqueToken","HttpModule","CommonModule","NgModule"],"mappings":"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"}